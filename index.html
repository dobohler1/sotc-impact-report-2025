<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STEM Program Impact Report - SLUSD</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }

        /* Header Section */
        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 60px 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="%23ffffff" stroke-width="0.5" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
        }

        .header-content {
            position: relative;
            z-index: 1;
        }

        .header h1 {
            font-size: 3rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header .subtitle {
            font-size: 1.3rem;
            opacity: 0.9;
            margin-bottom: 30px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .stat-card {
            background: rgba(255,255,255,0.1);
            padding: 25px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            text-align: center;
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            display: block;
            margin-bottom: 10px;
        }

        /* Navigation */
        .nav {
            background: #34495e;
            padding: 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-list {
            display: flex;
            list-style: none;
            justify-content: center;
            flex-wrap: wrap;
        }

        .nav-item {
            margin: 0;
        }

        .nav-link {
            display: block;
            padding: 15px 25px;
            color: white;
            text-decoration: none;
            transition: background-color 0.3s ease;
            border-bottom: 3px solid transparent;
        }

        .nav-link:hover {
            background-color: #2c3e50;
            border-bottom-color: #3498db;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <header class="header">
            <div class="header-content">
                <h1>STEM Program Impact Report</h1>
                <p class="subtitle">Transforming Learning Through Science, Technology, Engineering & Mathematics</p>
                <p style="opacity: 0.8; margin-bottom: 30px;">San Leandro Unified School District • Academic Year 2024-2025</p>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <span class="stat-number">52</span>
                        <span>Students Served</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number">4</span>
                        <span>Cohorts</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number">19%</span>
                        <span>Avg Math Improvement</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number">17%</span>
                        <span>Avg CS Improvement</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="nav">
            <ul class="nav-list">
                <li class="nav-item"><a href="#story" class="nav-link">Program Story</a></li>
                <li class="nav-item"><a href="#videos" class="nav-link">Student Voices</a></li>
                <li class="nav-item"><a href="#speakers" class="nav-link">Guest Speakers</a></li>
                <li class="nav-item"><a href="#analytics" class="nav-link">Program Impact & Analytics</a></li>
                <li class="nav-item"><a href="#findings" class="nav-link">Key Findings</a></li>
                <li class="nav-item"><a href="#gallery" class="nav-link">Photo Gallery</a></li>
            </ul>
        </nav>
<!-- Continue CSS from Part 1 -->
        <style>
        /* Section Styles */
        .section {
            padding: 60px 40px;
            border-bottom: 1px solid #eee;
        }

        .section:nth-child(even) {
            background-color: #f8f9fa;
        }

        .section-title {
            font-size: 2.5rem;
            margin-bottom: 30px;
            text-align: center;
            color: #2c3e50;
            position: relative;
        }

        .section-title::after {
            content: '';
            display: block;
            width: 80px;
            height: 4px;
            background: linear-gradient(135deg, #3498db, #9b59b6);
            margin: 20px auto;
            border-radius: 2px;
        }

        /* Story Section */
        .story-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            align-items: center;
            margin-top: 40px;
        }

        .story-text {
            font-size: 1.1rem;
            line-height: 1.8;
        }

        .story-image {
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: transform 0.3s ease;
        }

        .story-image:hover {
            transform: scale(1.05);
        }

        /* Video Section */
        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .video-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .video-card:hover {
            transform: translateY(-5px);
        }

        .video-content {
            padding: 20px;
        }

        .video-title {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        </style>

        <!-- Program Story Section -->
        <section id="story" class="section">
            <h2 class="section-title">Our STEM Journey</h2>
            <div class="story-grid">
                <div class="story-text">
                    <p>
                        This year, Science on the Court (SOTC) deepened its impact through a dynamic partnership 
                        with the Boys and Girls Club of San Leandro, serving students at Bancroft and John Muir 
                        Middle Schools. Our program blended basketball training, STEM learning, and mentorship to
                        engage middle schoolers both on and off the court.
                    </p>
                    <br>
                    <p>
                        Students didn't just shoot hoops—they built and programmed robots, explored real-world
                        physics, and applied math through the lens of sports. A major highlight was our field trip to
                        Tesla, where students witnessed innovation firsthand and imagined their place in the future of
                        technology.
                    </p>
                </div>
                <div class="story-image">
                    <img src="photos/parker.jpg" alt="Students working on STEM projects" style="max-width: 100%; height: auto; border-radius: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.2);" />
                </div>
            </div>
        </section>

        <!-- Student Videos Section -->
        <section id="videos" class="section">
            <h2 class="section-title">Student Voices & Success Stories</h2>
            <div class="video-grid">
        
                <!-- Student Testimonials -->
                <div class="video-card" style="overflow: hidden;">
                    <iframe width="100%" height="200" src="https://www.youtube.com/embed/K4zPl0Tw-Es?rel=0&modestbranding=1"
                        title="Student Testimonials"
                        frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                        allowfullscreen
                        style="border: none;">
                    </iframe>
                    <div class="video-content">
                        <h3 class="video-title">Student Testimonials</h3>
                        <p>Hear from students about their STEM program experience and how it's changed their perspective on learning.</p>
                    </div>
                </div>
        
                <!-- Final Showcase -->
                <div class="video-card" style="overflow: hidden;">
                    <iframe width="100%" height="200" src="https://www.youtube.com/embed/g1XWqc5qHBs?rel=0&modestbranding=1"
                        title="Final Showcase"
                        frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                        allowfullscreen
                        style="border: none;">
                    </iframe>
                    <div class="video-content">
                        <h3 class="video-title">Final Showcase</h3>
                        <p>Check out students shooting hoops, building robots, and competing for prizes.</p>
                    </div>
                </div>
        
                <!-- Community Voices -->
                <div class="video-card" style="overflow: hidden;">
                    <iframe width="100%" height="200" src="https://www.youtube.com/embed/BoICs9svPu4?rel=0&modestbranding=1"
                        title="Voices of Impact"
                        frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                        allowfullscreen
                        style="border: none;">
                    </iframe>
                    <div class="video-content">
                        <h3 class="video-title">Voices of Impact</h3>
                        <p>Hear from the SLUSD Expanded Learning Director, John Muir's Principal, and a Boys & Girls Club Program Manager on how SOTC is making a difference.</p>
                    </div>
                </div>
        
            </div>
        </section>
<!-- Continue CSS for Guest Speakers -->
        <style>
        /* Enhanced Guest Speakers Styles */
        .speakers-section {
            position: relative;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            overflow: hidden;
        }

        .speakers-background {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="speakers-grid" width="20" height="20" patternUnits="userSpaceOnUse"><path d="M 20 0 L 0 0 0 20" fill="none" stroke="%23cbd5e1" stroke-width="0.5" opacity="0.3"/></pattern></defs><rect width="100" height="100" fill="url(%23speakers-grid)"/></svg>');
            opacity: 0.5;
        }

        .speakers-container {
            position: relative;
            z-index: 1;
        }

        .speakers-title {
            color: #1a202c;
            font-size: 3rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .speakers-subtitle {
            text-align: center;
            font-size: 1.2rem;
            color: #4a5568;
            margin-bottom: 50px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.6;
        }

        .speakers-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 40px;
            margin-bottom: 60px;
            max-width: 1000px;
            margin-left: auto;
            margin-right: auto;
        }

        .speaker-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            border: 1px solid rgba(255,255,255,0.8);
        }

        .speaker-card:hover {
            transform: translateY(-15px) scale(1.02);
            box-shadow: 0 25px 50px rgba(0,0,0,0.2);
        }

        .speaker-image-container {
            position: relative;
            height: 300px;
            overflow: hidden;
        }

        .speaker-photo {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center top;
            transition: transform 0.6s ease;
            filter: brightness(1.1) contrast(1.1);
        }

        .speaker-card:hover .speaker-photo {
            transform: scale(1.1);
        }

        .speaker-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(0,0,0,0.6) 0%, transparent 50%);
            display: flex;
            align-items: flex-start;
            padding: 20px;
        }

        .speaker-badge {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }

        .speaker-content {
            padding: 30px;
        }

        .speaker-header {
            margin-bottom: 15px;
        }

        .speaker-name {
            font-size: 1.5rem;
            color: #1a202c;
            font-weight: 700;
            margin-bottom: 8px;
            line-height: 1.2;
        }

        .speaker-expertise {
            font-size: 1rem;
            color: #667eea;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .speaker-credentials {
            color: #718096;
            font-size: 0.9rem;
            margin-bottom: 15px;
            line-height: 1.4;
            font-weight: 500;
        }

        .speaker-bio {
            color: #4a5568;
            line-height: 1.6;
            margin-bottom: 20px;
            font-size: 0.95rem;
        }

        .speaker-bio em {
            color: #2d3748;
            font-weight: 600;
        }

        .speaker-quote {
            background: linear-gradient(135deg, #f7fafc, #edf2f7);
            padding: 20px;
            border-radius: 15px;
            border-left: 4px solid #667eea;
            position: relative;
            margin-top: auto;
        }

        .quote-icon {
            position: absolute;
            top: -10px;
            left: 15px;
            font-size: 3rem;
            color: #667eea;
            opacity: 0.3;
            font-family: Georgia, serif;
        }

        .speaker-quote p {
            font-style: italic;
            color: #2d3748;
            font-size: 0.9rem;
            line-height: 1.5;
            margin: 0;
            padding-left: 20px;
        }
        </style>

        <!-- Guest Speakers Section -->
        <section id="speakers" class="section speakers-section">
            <div class="speakers-background"></div>
            <div class="speakers-container">
                <h2 class="section-title speakers-title">Guest Speakers & Industry Experts</h2>
                <p class="speakers-subtitle">
                    World-class professionals who inspired our students with real-world STEM applications and life wisdom
                </p>
                
                <div class="speakers-grid">
                    
                    <div class="speaker-card">
                        <div class="speaker-image-container">
                            <img src="photos/hakeem_oluseyi.JPEG" alt="Dr. Hakeem Oluseyi" class="speaker-photo">
                            <div class="speaker-overlay">
                                <div class="speaker-badge">Keynote Speaker</div>
                            </div>
                        </div>
                        <div class="speaker-content">
                            <div class="speaker-header">
                                <h3 class="speaker-name">Dr. Hakeem Oluseyi</h3>
                                <div class="speaker-expertise">🌟 Astrophysicist</div>
                            </div>
                            <p class="speaker-credentials">
                                President, National Society of Black Physicists • CEO, Astronomical Society of the Pacific
                            </p>
                            <p class="speaker-bio">
                                Author of <em>A Quantum Life: My Unlikely Journey from the Street to the Stars</em>, Dr. Oluseyi 
                                showed students how the curiosity-driven mindset of astrophysics parallels athletic performance—reading 
                                plays on the court is like mapping the cosmos.
                            </p>
                            <div class="speaker-quote">
                                <div class="quote-icon">"</div>
                                <p>When I'm tracking a photon crossing galaxies or anticipating a teammate's move mid‑court, 
                                I'm using the same scientific toolkit—observe closely, predict outcomes, adjust in real time.</p>
                            </div>
                        </div>
                    </div>
        
                    <div class="speaker-card">
                        <div class="speaker-image-container">
                            <img src="photos/james-allen.JPEG" alt="Dr. James Allen" class="speaker-photo">
                            <div class="speaker-overlay">
                                <div class="speaker-badge">Research Scientist</div>
                            </div>
                        </div>
                        <div class="speaker-content">
                            <div class="speaker-header">
                                <h3 class="speaker-name">Dr. James Allen</h3>
                                <div class="speaker-expertise">⚛️ Accelerator Physics</div>
                            </div>
                            <p class="speaker-credentials">
                                Stanford PhD • Former Varsity Basketball Player • Varian Research Scientist
                            </p>
                            <p class="speaker-bio">
                                A living example that you can excel in both athletics and academia, Dr. Allen broke down how 
                                particle accelerators help treat cancer and how court discipline translates to research success.
                            </p>
                            <div class="speaker-quote">
                                <div class="quote-icon">"</div>
                                <p>I wanted students to see that you can be both an athlete and a scientist. The same focus 
                                that helps you train can help you thrive in college and beyond.</p>
                            </div>
                        </div>
                    </div>
        
                    <div class="speaker-card">
                        <div class="speaker-image-container">
                            <img src="photos/jareem-gunter.JPEG" alt="Jareem Gunter" class="speaker-photo">
                            <div class="speaker-overlay">
                                <div class="speaker-badge">2025 Coach of the Year</div>
                            </div>
                        </div>
                        <div class="speaker-content">
                            <div class="speaker-header">
                                <h3 class="speaker-name">Jareem Gunter</h3>
                                <div class="speaker-expertise">🏀 Leadership Coach</div>
                            </div>
                            <p class="speaker-credentials">
                                Author of <em>The Man Book</em> • Positive Coaching Alliance 2025 Coach of the Year • Dream Team AAU
                            </p>
                            <p class="speaker-bio">
                                Led a transformative workshop on evaluating relationships and personal influences, helping students 
                                reflect on whether their circle supports their goals and ambitions.
                            </p>
                            <div class="speaker-quote">
                                <div class="quote-icon">"</div>
                                <p>Your circle shapes your future. I showed students how to check if their relationships 
                                are building them up or holding them back.</p>
                            </div>
                        </div>
                    </div>
        
                    <div class="speaker-card">
                        <div class="speaker-image-container">
                            <img src="photos/phil-robinson.JPEG" alt="Phil Robinson" class="speaker-photo">
                            <div class="speaker-overlay">
                                <div class="speaker-badge">Creative Mentor</div>
                            </div>
                        </div>
                        <div class="speaker-content">
                            <div class="speaker-header">
                                <h3 class="speaker-name">Phil Robinson</h3>
                                <div class="speaker-expertise">🎬 Filmmaker & Referee</div>
                            </div>
                            <p class="speaker-credentials">
                                Morehouse Graduate • Creative Storyteller • STEM Enthusiast
                            </p>
                            <p class="speaker-bio">
                                As both guest instructor and referee, Phil encouraged students to pursue excellence while staying 
                                creative, having fun, and making a positive impact in their community.
                            </p>
                            <div class="speaker-quote">
                                <div class="quote-icon">"</div>
                                <p>Curiosity is your superpower. The more you explore, the more you'll discover who you 
                                really are—and what you're capable of.</p>
                            </div>
                        </div>
                    </div>
        
                </div>
            </div>
        </section>
        <!-- Continue CSS for Analytics Section -->
        <style>
        /* Analytics Section Styles */
        .analytics-section {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            position: relative;
        }

        .analytics-intro {
            text-align: center;
            max-width: 800px;
            margin: 0 auto 60px auto;
            font-size: 1.1rem;
            color: #4a5568;
            line-height: 1.7;
        }

        .analytics-grid {
            display: grid;
            gap: 40px;
            margin-bottom: 40px;
        }

        .analytics-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 1px solid rgba(255,255,255,0.8);
        }

        .analytics-title {
            font-size: 1.4rem;
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 600;
        }

        .chart-container {
            position: relative;
            height: 400px;
            margin: 20px 0;
        }

        .metric-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .metric-card {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(59, 130, 246, 0.3);
        }

        .metric-number {
            font-size: 2.5rem;
            font-weight: bold;
            display: block;
            margin-bottom: 8px;
        }

        .metric-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .insight-callout {
            background: linear-gradient(135deg, #10b981, #047857);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            text-align: center;
        }

        .insight-callout h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
        }

        .attendance-tiers {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .tier-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            border-left: 4px solid;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .tier-1 { border-left-color: #ef4444; }
        .tier-2 { border-left-color: #f97316; }
        .tier-3 { border-left-color: #eab308; }
        .tier-4 { border-left-color: #22c55e; }
        .tier-5 { border-left-color: #15803d; }

        .tier-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .tier-number {
            font-size: 1.8rem;
            font-weight: bold;
        }

        .tier-percentage {
            font-size: 1.2rem;
            opacity: 0.8;
        }

        .tier-description {
            color: #6b7280;
            font-size: 0.9rem;
        }
        </style>

        <!-- Program Impact & Analytics Section -->
        <section id="analytics" class="section analytics-section">
            <h2 class="section-title">Program Impact & Analytics</h2>
            <p class="analytics-intro">
                Our comprehensive data analysis reveals the transformative impact of the STEM program across 
                academic performance, student engagement, and program satisfaction. The following five key 
                metrics tell the story of our success and guide our continued improvement.
            </p>

            <!-- 1. Academic Performance Overview -->
            <div class="analytics-card">
                <h3 class="analytics-title">📈 Academic Performance Gains</h3>
                <div class="metric-grid">
                    <div class="metric-card">
                        <span class="metric-number">19%</span>
                        <span class="metric-label">Avg Math Improvement</span>
                    </div>
                    <div class="metric-card" style="background: linear-gradient(135deg, #10b981, #047857);">
                        <span class="metric-number">17%</span>
                        <span class="metric-label">Avg CS Improvement</span>
                    </div>
                    <div class="metric-card" style="background: linear-gradient(135deg, #8b5cf6, #7c3aed);">
                        <span class="metric-number">52</span>
                        <span class="metric-label">Students Assessed</span>
                    </div>
                    <div class="metric-card" style="background: linear-gradient(135deg, #f59e0b, #d97706);">
                        <span class="metric-number">100%</span>
                        <span class="metric-label">Cohorts Showed Growth</span>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="performanceChart"></canvas>
                </div>
                <div class="insight-callout">
                    <h3>🎯 Key Insight</h3>
                    <p>Computer Science improvements consistently outpaced Math gains across all cohorts, 
                    suggesting strong engagement with hands-on programming and robotics activities.</p>
                </div>
            </div>

            <!-- 2. Attendance Analysis -->
            <div class="analytics-card">
                <h3 class="analytics-title">📊 Student Attendance Patterns</h3>
                <div style="text-align: center; margin-bottom: 20px;">
                    <select id="cohortSelector" style="padding: 10px 20px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px; background: white;">
                        <option value="all">All Cohorts Combined</option>
                        <option value="John Muir Fall 24">John Muir Fall 24</option>
                        <option value="Bancroft Fall 24">Bancroft Fall 24</option>
                        <option value="John Muir Spring 25">John Muir Spring 25</option>
                        <option value="Bancroft Spring 25">Bancroft Spring 25</option>
                    </select>
                </div>
                <p id="attendanceDescription" style="text-align: center; color: #6b7280; margin-bottom: 30px;">
                    Engagement-based attendance tiers show consistent participation with 65% of students in high-engagement categories
                </p>
                <div class="chart-container">
                    <canvas id="attendanceChart"></canvas>
                </div>
                <div id="attendanceTiers" class="attendance-tiers">
                    <div class="tier-card tier-5">
                        <div class="tier-header">
                            <span class="tier-number" id="tier5-percent">39%</span>
                            <span class="tier-percentage">Tier 5</span>
                        </div>
                        <div class="tier-description">High engagement (≥75% attendance)</div>
                    </div>
                    <div class="tier-card tier-4">
                        <div class="tier-header">
                            <span class="tier-number" id="tier4-percent">26%</span>
                            <span class="tier-percentage">Tier 4</span>
                        </div>
                        <div class="tier-description">Strong engagement (50-74% attendance)</div>
                    </div>
                    <div class="tier-card tier-1">
                        <div class="tier-header">
                            <span class="tier-number" id="tier1-percent">18%</span>
                            <span class="tier-percentage">Tier 1</span>
                        </div>
                        <div class="tier-description">Lower engagement (≤25% attendance)</div>
                    </div>
                </div>
                <div style="background: #f3f4f6; padding: 20px; border-radius: 12px; margin-top: 30px; border-left: 4px solid #6b7280;">
                    <h4 style="color: #374151; margin-bottom: 10px;">📝 Attendance Context</h4>
                    <p style="color: #4b5563; font-size: 0.95rem; line-height: 1.6; margin-bottom: 15px;">
                        <strong>Tier 1 students (≤25% attendance)</strong> typically attended only 1-2 sessions, not giving the program a fair opportunity to demonstrate its value. This limited exposure prevents meaningful skill development and relationship building with instructors.
                    </p>
                    <p style="color: #4b5563; font-size: 0.95rem; line-height: 1.6;">
                        <strong>Note on Bancroft Spring 25:</strong> We experienced temporary enrollment decline due to competition from a popular wrestling class. However, students returned once wrestling concluded, demonstrating continued interest in our program.
                    </p>
                </div>
            </div>

            <!-- 3. Student Satisfaction -->
            <div class="analytics-card">
                <h3 class="analytics-title">😊 Student Program Evaluation</h3>
                <div class="metric-grid">
                    <div class="metric-card" style="background: linear-gradient(135deg, #10b981, #047857);">
                        <span class="metric-number">94%</span>
                        <span class="metric-label">Program Satisfaction</span>
                    </div>
                    <div class="metric-card" style="background: linear-gradient(135deg, #8b5cf6, #7c3aed);">
                        <span class="metric-number">91%</span>
                        <span class="metric-label">Would Recommend</span>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="satisfactionChart"></canvas>
                </div>
                
                <!-- Student Voice Quotes -->
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin: 30px 0;">
                    <div style="background: #f0f9ff; padding: 20px; border-radius: 12px; border-left: 4px solid #3b82f6;">
                        <p style="font-style: italic; color: #1e40af; margin-bottom: 10px;">
                            "I loved how we got to build robots and play basketball at the same time. It made learning science so much more fun!"
                        </p>
                        <span style="font-size: 0.85rem; color: #6b7280;">— 7th Grade Student</span>
                    </div>
                    
                    <div style="background: #f0fdf4; padding: 20px; border-radius: 12px; border-left: 4px solid #10b981;">
                        <p style="font-style: italic; color: #047857; margin-bottom: 10px;">
                            "The balance between classroom and basketball was perfect. We learned about physics while practicing shots!"
                        </p>
                        <span style="font-size: 0.85rem; color: #6b7280;">— 6th Grade Student</span>
                    </div>
                    
                    <div style="background: #fefce8; padding: 20px; border-radius: 12px; border-left: 4px solid #eab308;">
                        <p style="font-style: italic; color: #a16207; margin-bottom: 10px;">
                            "I never thought I could be good at coding, but building robots that could race was amazing. Now I want to learn more!"
                        </p>
                        <span style="font-size: 0.85rem; color: #6b7280;">— 6th Grade Student</span>
                    </div>
                    
                    <div style="background: #fdf2f8; padding: 20px; border-radius: 12px; border-left: 4px solid #ec4899;">
                        <p style="font-style: italic; color: #be185d; margin-bottom: 10px;">
                            "The instructors made everything easy to understand. They connected what we were learning to basketball, which helped me get it."
                        </p>
                        <span style="font-size: 0.85rem; color: #6b7280;">— 7th Grade Student</span>
                    </div>
                </div>
                
                <div class="insight-callout">
                    <h3>💡 Student Voice</h3>
                    <p>"Very enjoyable" was the most common response (68%), with students highlighting 
                    the effective balance between classroom learning and basketball activities.</p>
                </div>
            </div>

            <!-- 4. STEM Identity Development -->
            <div class="analytics-card">
                <h3 class="analytics-title">🔬 STEM Interest & Identity Changes</h3>
                <div class="metric-grid">
                    <div class="metric-card">
                        <span class="metric-number">30.8%</span>
                        <span class="metric-label">Increased STEM Interest</span>
                    </div>
                    <div class="metric-card" style="background: linear-gradient(135deg, #f59e0b, #d97706);">
                        <span class="metric-number">53</span>
                        <span class="metric-label">Students Surveyed</span>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="stemIdentityChart"></canvas>
                </div>
                
                <!-- Identity Change Quotes -->
                <div style="background: #f8fafc; padding: 25px; border-radius: 12px; margin: 30px 0;">
                    <h4 style="color: #374151; margin-bottom: 20px; text-align: center;">💭 What Changed Their Minds About STEM?</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px;">
                        <div style="background: white; padding: 15px; border-radius: 8px; border-left: 3px solid #3b82f6;">
                            <p style="font-style: italic; color: #1e40af; font-size: 0.9rem; margin-bottom: 8px;">
                                "I used to think science was just boring textbooks, but when we built robots that could actually move and compete, I realized how cool engineering could be."
                            </p>
                            <span style="font-size: 0.8rem; color: #6b7280;">— Student who moved from "No" to "Yes"</span>
                        </div>
                        
                        <div style="background: white; padding: 15px; border-radius: 8px; border-left: 3px solid #10b981;">
                            <p style="font-style: italic; color: #047857; font-size: 0.9rem; margin-bottom: 8px;">
                                "The Tesla field trip showed me that STEM jobs aren't just sitting at a desk. You can build cars that drive themselves!"
                            </p>
                            <span style="font-size: 0.8rem; color: #6b7280;">— Student who moved from "Maybe" to "Yes"</span>
                        </div>
                        
                        <div style="background: white; padding: 15px; border-radius: 8px; border-left: 3px solid #8b5cf6;">
                            <p style="font-style: italic; color: #7c3aed; font-size: 0.9rem; margin-bottom: 8px;">
                                "Learning about physics through basketball made everything click. Now I want to study how things move and work."
                            </p>
                            <span style="font-size: 0.8rem; color: #6b7280;">— Student who moved from "No" to "Maybe"</span>
                        </div>
                        
                        <div style="background: white; padding: 15px; border-radius: 8px; border-left: 3px solid #f59e0b;">
                            <p style="font-style: italic; color: #d97706; font-size: 0.9rem; margin-bottom: 8px;">
                                "Programming the robots to do what I wanted was like solving puzzles. It was way more fun than I thought coding would be."
                            </p>
                            <span style="font-size: 0.8rem; color: #6b7280;">— Student considering computer science career</span>
                        </div>
                    </div>
                </div>
                
                <div class="insight-callout">
                    <h3>🚀 Identity Transformation</h3>
                    <p>Students who were initially unsure about STEM showed the greatest growth, 
                    moving from "No" or "Maybe" to "Yes" on STEM career consideration.</p>
                </div>
            </div>

            <!-- 5. Cohort Performance Comparison -->
            <div class="analytics-card">
                <h3 class="analytics-title">🏫 Cohort Performance Overview</h3>
                <div class="chart-container">
                    <canvas id="cohortChart"></canvas>
                </div>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 30px 0;">
                    <div style="background: #eff6ff; padding: 15px; border-radius: 8px; text-align: center;">
                        <h4 style="color: #1e40af; margin-bottom: 8px;">John Muir Fall 24</h4>
                        <div style="font-size: 0.85rem; color: #3730a3;">
                            <div>Math: +15.2%</div>
                            <div>CS: +52.1%</div>
                            <div>STEM Interest: 25%</div>
                            <div>Sports Interest: 78%</div>
                        </div>
                    </div>
                    
                    <div style="background: #f0fdf4; padding: 15px; border-radius: 8px; text-align: center;">
                        <h4 style="color: #047857; margin-bottom: 8px;">Bancroft Fall 24</h4>
                        <div style="font-size: 0.85rem; color: #065f46;">
                            <div>Math: +45.4%</div>
                            <div>CS: +35.8%</div>
                            <div>STEM Interest: 30%</div>
                            <div>Sports Interest: 85%</div>
                        </div>
                    </div>
                    
                    <div style="background: #fefce8; padding: 15px; border-radius: 8px; text-align: center;">
                        <h4 style="color: #a16207; margin-bottom: 8px;">John Muir Spring 25</h4>
                        <div style="font-size: 0.85rem; color: #92400e;">
                            <div>Math: +19.8%</div>
                            <div>CS: +89.3%</div>
                            <div>STEM Interest: 40%</div>
                            <div>Sports Interest: 72%</div>
                        </div>
                    </div>
                    
                    <div style="background: #fdf2f8; padding: 15px; border-radius: 8px; text-align: center;">
                        <h4 style="color: #be185d; margin-bottom: 8px;">Bancroft Spring 25</h4>
                        <div style="font-size: 0.85rem; color: #9d174d;">
                            <div>Math: +42.3%</div>
                            <div>CS: +69.0%</div>
                            <div>STEM Interest: 35%</div>
                            <div>Sports Interest: 80%</div>
                        </div>
                    </div>
                </div>
                <div class="insight-callout">
                    <h3>📈 Consistent Excellence</h3>
                    <p>All cohorts exceeded baseline performance, with John Muir Spring 25 leading in 
                    Computer Science gains (+89.3%) and Bancroft Fall 24 excelling in Math (+45.4%). 
                    Sports interest remained consistently high across all cohorts.</p>
                </div>
            </div>

        </section>
        <script>
        // Global data storage
        let programData = {
            performance: null,
            engagement: null,
            stemIdentity: null,
            evaluations: null,
            usingRealData: false
        };

        let charts = {};

        // Sample fallback data
        const sampleData = {
            cohorts: ['John Muir Fall 24', 'Bancroft Fall 24', 'John Muir Spring 25', 'Bancroft Spring 25'],
            mathGains: [15.2, 45.4, 19.8, 42.3],
            csGains: [52.1, 35.8, 89.3, 69.0],
            attendanceData: {
                'all': [18, 8, 9, 26, 39],
                'John Muir Fall 24': [20, 8, 0, 8, 64],
                'Bancroft Fall 24': [24, 6, 0, 24, 41],
                'John Muir Spring 25': [24, 10, 0, 14, 52],
                'Bancroft Spring 25': [5, 0, 20, 65, 20]
            },
            attendanceDescriptions: {
                'all': 'Engagement-based attendance tiers show consistent participation with 65% of students in high-engagement categories',
                'John Muir Fall 24': 'Fall 2024 cohort with strong engagement patterns',
                'Bancroft Fall 24': 'Fall 2024 cohort with balanced engagement across tiers', 
                'John Muir Spring 25': 'Spring 2025 cohort showing highest STEM engagement',
                'Bancroft Spring 25': 'Spring 2025 cohort, affected by wrestling competition'
            }
        };

        function createChart(canvasId, type, data, options = {}) {
            const ctx = document.getElementById(canvasId)?.getContext('2d');
            if (!ctx) return;
            
            if (charts[canvasId]) {
                charts[canvasId].destroy();
            }
            
            const defaultOptions = {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                        labels: {
                            padding: 20,
                            usePointStyle: true
                        }
                    }
                }
            };
            
            charts[canvasId] = new Chart(ctx, {
                type: type,
                data: data,
                options: { ...defaultOptions, ...options }
            });
        }

        // Load CSV data
        async function loadCSVData(filename) {
            try {
                const response = await fetch(filename);
                if (!response.ok) throw new Error(`Could not load ${filename}`);
                const csvText = await response.text();
                
                return new Promise((resolve) => {
                    Papa.parse(csvText, {
                        header: true,
                        skipEmptyLines: true,
                        complete: function(results) {
                            resolve(results.data);
                        },
                        error: function(error) {
                            console.error(`Error parsing ${filename}:`, error);
                            resolve(null);
                        }
                    });
                });
            } catch (error) {
                console.log(`Could not load ${filename}:`, error.message);
                return null;
            }
        }

        // Process performance data
        function processPerformanceData(data) {
            if (!data) return null;
            
            const cohortResults = {};
            data.forEach(row => {
                if (!row.Cohort || !row['Math Normalized Gain (%)'] || !row['Computer  Normalized Gain (%)']) return;
                
                const cohort = row.Cohort.trim();
                if (!cohortResults[cohort]) {
                    cohortResults[cohort] = { mathGains: [], csGains: [] };
                }
                
                const mathGain = parseFloat(row['Math Normalized Gain (%)'].replace('%', ''));
                const csGain = parseFloat(row['Computer  Normalized Gain (%)'].replace('%', ''));
                
                if (!isNaN(mathGain)) cohortResults[cohort].mathGains.push(mathGain);
                if (!isNaN(csGain)) cohortResults[cohort].csGains.push(csGain);
            });
            
            const processed = {
                cohorts: Object.keys(cohortResults),
                mathGains: [],
                csGains: []
            };
            
            processed.cohorts.forEach(cohort => {
                const mathAvg = cohortResults[cohort].mathGains.reduce((sum, val) => sum + val, 0) / cohortResults[cohort].mathGains.length;
                const csAvg = cohortResults[cohort].csGains.reduce((sum, val) => sum + val, 0) / cohortResults[cohort].csGains.length;
                processed.mathGains.push(parseFloat(mathAvg.toFixed(1)));
                processed.csGains.push(parseFloat(csAvg.toFixed(1)));
            });
            
            return processed;
        }

        // Process engagement data for attendance patterns
        function processEngagementData(data) {
            if (!data) return null;
            
            const cohortEngagement = {};
            data.forEach(row => {
                if (!row.Cohort) return;
                const cohort = row.Cohort.trim();
                if (!cohortEngagement[cohort]) cohortEngagement[cohort] = [];
                
                // Calculate average engagement score (1-4 scale)
                const stemScore = (
                    parseFloat(row['STEM Participation  (4-High,  3-Active,  2-Moderate, 1-Low)'] || 0) +
                    parseFloat(row['STEM Teamwork  (4-High,  3-Active,  2-Moderate, 1-Low)'] || 0) +
                    parseFloat(row['STEM Task Completion (4-High,  3-Active,  2-Moderate, 1-Low)'] || 0) +
                    parseFloat(row['STEM Confidence (4-High,  3-Active,  2-Moderate, 1-Low)'] || 0)
                ) / 4;
                
                const sportsScore = (
                    parseFloat(row['Sports Participation  (4-High,  3-Active,  2-Moderate, 1-Low)'] || 0) +
                    parseFloat(row['Sports Teamwork  (4-High,  3-Active,  2-Moderate, 1-Low)'] || 0) +
                    parseFloat(row['Sports Task Completion (4-High,  3-Active,  2-Moderate, 1-Low)'] || 0) +
                    parseFloat(row['Sports Confidence (4-High,  3-Active,  2-Moderate, 1-Low)'] || 0)
                ) / 4;
                
                cohortEngagement[cohort].push({
                    stemScore,
                    sportsScore,
                    overallScore: (stemScore + sportsScore) / 2
                });
            });
            
            return cohortEngagement;
        }

        // Process STEM identity data
        function processSTEMIdentityData(data) {
            if (!data) return null;
            
            let preYes = 0, preMaybe = 0, preNo = 0;
            let postYes = 0, postMaybe = 0, postNo = 0;
            let increased = 0;
            
            data.forEach(row => {
                const pre = row['Pre-Considering STEM'] || row['Pre-Considering STEM'];
                const post = row['Post-Considering STEM'] || row['Post-Considering STEM'];
                
                if (pre && post) {
                    // Count pre responses
                    if (pre.toLowerCase().includes('yes')) preYes++;
                    else if (pre.toLowerCase().includes('maybe')) preMaybe++;
                    else if (pre.toLowerCase().includes('no')) preNo++;
                    
                    // Count post responses
                    if (post.toLowerCase().includes('yes')) postYes++;
                    else if (post.toLowerCase().includes('maybe')) postMaybe++;
                    else if (post.toLowerCase().includes('no')) postNo++;
                    
                    // Check for increase
                    if ((pre.toLowerCase().includes('no') && (post.toLowerCase().includes('maybe') || post.toLowerCase().includes('yes'))) ||
                        (pre.toLowerCase().includes('maybe') && post.toLowerCase().includes('yes'))) {
                        increased++;
                    }
                }
            });
            
            const total = data.length;
            return {
                preData: [Math.round((preYes/total)*100), Math.round((preMaybe/total)*100), Math.round((preNo/total)*100)],
                postData: [Math.round((postYes/total)*100), Math.round((postMaybe/total)*100), Math.round((postNo/total)*100)],
                increasedPercent: Math.round((increased/total)*100)
            };
        }

        // Process evaluation data
        function processEvaluationData(data) {
            if (!data) return null;
            
            const enjoyment = {};
            const recommend = {};
            
            data.forEach(row => {
                const enjoyable = row['How enjoyable was the Science on the Court program?'];
                const wouldRecommend = row['Would you recommend this program to a friend'];
                
                if (enjoyable) {
                    enjoyment[enjoyable] = (enjoyment[enjoyable] || 0) + 1;
                }
                if (wouldRecommend) {
                    recommend[wouldRecommend] = (recommend[wouldRecommend] || 0) + 1;
                }
            });
            
            const total = data.length;
            const veryEnjoyable = enjoyment['Very enjoyable'] || 0;
            const somewhatEnjoyable = enjoyment['Somewhat enjoyable'] || 0;
            const neutral = enjoyment['Neutral'] || 0;
            const notEnjoyable = total - veryEnjoyable - somewhatEnjoyable - neutral;
            
            const yesRecommend = recommend['Yes'] || 0;
            
            return {
                enjoymentData: [
                    Math.round((veryEnjoyable/total)*100),
                    Math.round((somewhatEnjoyable/total)*100),
                    Math.round((neutral/total)*100),
                    Math.round((notEnjoyable/total)*100)
                ],
                satisfactionScore: Math.round(((veryEnjoyable + somewhatEnjoyable * 0.6)/total)*100),
                recommendPercent: Math.round((yesRecommend/total)*100)
            };
        }

        function updateHeaderStatistics(performanceData, stemIdentityData) {
            const statCards = document.querySelectorAll('.stat-card .stat-number');
            
            if (performanceData && statCards.length >= 4) {
                // Update total students
                statCards[0].textContent = performanceData.length;
                
                // Calculate average improvements
                let totalMathGain = 0, totalCSGain = 0, validMath = 0, validCS = 0;
                
                performanceData.forEach(row => {
                    const mathGain = parseFloat(row['Math Normalized Gain (%)']?.replace('%', '') || 0);
                    const csGain = parseFloat(row['Computer  Normalized Gain (%)']?.replace('%', '') || 0);
                    
                    if (!isNaN(mathGain) && mathGain > 0) {
                        totalMathGain += mathGain;
                        validMath++;
                    }
                    if (!isNaN(csGain) && csGain > 0) {
                        totalCSGain += csGain;
                        validCS++;
                    }
                });
                
                if (validMath > 0) {
                    statCards[2].textContent = (totalMathGain / validMath).toFixed(1) + '%';
                }
                if (validCS > 0) {
                    statCards[3].textContent = (totalCSGain / validCS).toFixed(1) + '%';
                }
                
                // Update cohorts count
                const uniqueCohorts = [...new Set(performanceData.map(row => row.Cohort).filter(Boolean))];
                statCards[1].textContent = uniqueCohorts.length;
            }
        }

        // Convert engagement scores to attendance tiers
        function engagementToAttendanceTiers(engagementData, cohort = 'all') {
            if (!engagementData) return sampleData.attendanceData[cohort] || sampleData.attendanceData['all'];
            
            let allScores = [];
            if (cohort === 'all') {
                Object.values(engagementData).forEach(cohortData => {
                    allScores = allScores.concat(cohortData.map(d => d.overallScore));
                });
            } else {
                allScores = engagementData[cohort] ? engagementData[cohort].map(d => d.overallScore) : [];
            }
            
            if (allScores.length === 0) return sampleData.attendanceData[cohort] || sampleData.attendanceData['all'];
            
            // Convert 1-4 engagement scale to attendance tiers
            const tiers = [0, 0, 0, 0, 0]; // [Tier1, Tier2, Tier3, Tier4, Tier5]
            
            allScores.forEach(score => {
                if (score <= 1.5) tiers[0]++; // Tier 1: Low engagement (≤25% attendance equivalent)
                else if (score <= 2.0) tiers[1]++; // Tier 2: Below average
                else if (score <= 2.5) tiers[2]++; // Tier 3: Average
                else if (score <= 3.0) tiers[3]++; // Tier 4: Good engagement
                else tiers[4]++; // Tier 5: High engagement (≥75% attendance equivalent)
            });
            
            // Convert to percentages
            const total = allScores.length;
            return tiers.map(count => Math.round((count/total)*100));
        }

        function updateAttendanceChart(cohort = 'all') {
            const attendanceData = engagementToAttendanceTiers(programData.engagement, cohort);
            const description = sampleData.attendanceDescriptions[cohort] || sampleData.attendanceDescriptions['all'];
            
            // Update description
            document.getElementById('attendanceDescription').textContent = description;
            
            // Update tier percentages
            document.getElementById('tier1-percent').textContent = attendanceData[0] + '%';
            document.getElementById('tier4-percent').textContent = attendanceData[3] + '%';
            document.getElementById('tier5-percent').textContent = attendanceData[4] + '%';
            
            // Update chart
            createChart('attendanceChart', 'doughnut', {
                labels: ['Tier 1 (≤25%)', 'Tier 2 (26-49%)', 'Tier 3 (50-64%)', 'Tier 4 (65-74%)', 'Tier 5 (≥75%)'],
                datasets: [{
                    data: attendanceData,
                    backgroundColor: ['#ef4444', '#f97316', '#eab308', '#22c55e', '#15803d'],
                    borderWidth: 3,
                    borderColor: '#fff'
                }]
            });
        }

        // Initialize application
        async function initializeDashboard() {
            console.log('Loading program data...');
            
            // Load all CSV files
            const [performanceData, engagementData, stemIdentityData, evaluationData] = await Promise.all([
                loadCSVData('data/SOTC SLUSD Data - Academic Performance.csv'),
                loadCSVData('data/SOTC SLUSD Data - AfterSchoolEngagement.csv'),
                loadCSVData('data/SOTC SLUSD Data - STEM Identity .csv'),
                loadCSVData('data/studentEvaluations.csv')
            ]);
            
            // Store loaded data
            programData.performance = performanceData;
            programData.engagement = processEngagementData(engagementData);
            programData.stemIdentity = stemIdentityData;
            programData.evaluations = evaluationData;
            programData.usingRealData = !!(performanceData && engagementData && stemIdentityData && evaluationData);
            
            console.log('Data loading complete. Using real data:', programData.usingRealData);
            
            // Show data status message
            const statusMessage = document.querySelector('.analytics-intro');
            if (programData.usingRealData) {
                statusMessage.innerHTML = `
                    <div style="background: #d4edda; color: #155724; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #c3e6cb;">
                        ✅ <strong>Real Program Data Loaded Successfully!</strong> Displaying actual results from 52 students across all cohorts.
                    </div>
                    Our comprehensive data analysis reveals the transformative impact of the STEM program across 
                    academic performance, student engagement, and program satisfaction. The following five key 
                    metrics tell the story of our success and guide our continued improvement.
                `;
                
                // Update header statistics with real data
                updateHeaderStatistics(performanceData, stemIdentityData);
            } else {
                statusMessage.innerHTML = `
                    <div style="background: #fff3cd; color: #856404; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #ffeaa7;">
                        ⚠️ <strong>Using Sample Data:</strong> CSV files not found. Displaying representative data for demonstration.
                    </div>
                    Our comprehensive data analysis reveals the transformative impact of the STEM program across 
                    academic performance, student engagement, and program satisfaction. The following five key 
                    metrics tell the story of our success and guide our continued improvement.
                `;
            }
            
            renderAllCharts();
        }

        function renderAllCharts() {
            // 1. Performance Gains Chart
            const performanceResults = processPerformanceData(programData.performance);
            const perfData = performanceResults || sampleData;
            
            createChart('performanceChart', 'bar', {
                labels: perfData.cohorts,
                datasets: [
                    {
                        label: 'Math Improvement (%)',
                        data: perfData.mathGains,
                        backgroundColor: '#3b82f6',
                        borderRadius: 8
                    },
                    {
                        label: 'Computer Science Improvement (%)',
                        data: perfData.csGains,
                        backgroundColor: '#10b981',
                        borderRadius: 8
                    }
                ]
            }, {
                scales: {
                    y: { 
                        beginAtZero: true,
                        title: { display: true, text: 'Improvement (%)' }
                    }
                }
            });

            // 2. Initialize Attendance Chart with "All" selected
            updateAttendanceChart('all');
            
            // Add event listener for cohort selector
            document.getElementById('cohortSelector').addEventListener('change', (e) => {
                updateAttendanceChart(e.target.value);
            });

            // 3. Student Satisfaction Chart
            const evalResults = processEvaluationData(programData.evaluations);
            const satisfactionData = evalResults ? evalResults.enjoymentData : [68, 26, 4, 2];
            
            // Update satisfaction metrics
            if (evalResults) {
                document.querySelector('.metric-card .metric-number').textContent = evalResults.satisfactionScore + '%';
                document.querySelectorAll('.metric-card .metric-number')[1].textContent = evalResults.recommendPercent + '%';
            }
            
            createChart('satisfactionChart', 'bar', {
                labels: ['Very Enjoyable', 'Somewhat Enjoyable', 'Neutral', 'Not Enjoyable'],
                datasets: [{
                    label: 'Student Responses',
                    data: satisfactionData,
                    backgroundColor: ['#10b981', '#22c55e', '#eab308', '#ef4444'],
                    borderRadius: 8
                }]
            }, {
                scales: {
                    y: { 
                        beginAtZero: true,
                        title: { display: true, text: 'Percentage of Students' }
                    }
                },
                plugins: {
                    legend: { display: false }
                }
            });

            // 4. STEM Identity Chart
            const identityResults = processSTEMIdentityData(programData.stemIdentity);
            const preData = identityResults ? identityResults.preData : [30, 35, 35];
            const postData = identityResults ? identityResults.postData : [45, 32, 23];
            
            // Update STEM interest increase metric
            if (identityResults) {
                document.querySelectorAll('.metric-card .metric-number')[2].textContent = identityResults.increasedPercent + '%';
            }
            
            createChart('stemIdentityChart', 'bar', {
                labels: ['Pre-Program', 'Post-Program'],
                datasets: [
                    {
                        label: 'Yes to STEM',
                        data: [preData[0], postData[0]],
                        backgroundColor: '#3b82f6',
                        borderRadius: 8
                    },
                    {
                        label: 'Maybe to STEM',
                        data: [preData[1], postData[1]],
                        backgroundColor: '#8b5cf6',
                        borderRadius: 8
                    },
                    {
                        label: 'No to STEM',
                        data: [preData[2], postData[2]],
                        backgroundColor: '#ef4444',
                        borderRadius: 8
                    }
                ]
            }, {
                scales: {
                    x: { stacked: true },
                    y: { 
                        stacked: true,
                        beginAtZero: true,
                        title: { display: true, text: 'Percentage of Students' }
                    }
                }
            });

            // 5. Cohort Comparison Radar Chart - All 4 Cohorts
            const radarData = generateRadarData(performanceResults, programData.engagement);
            
            createChart('cohortChart', 'radar', radarData.chartData, {
                scales: {
                    r: {
                        beginAtZero: true,
                        max: 100,
                        ticks: {
                            stepSize: 20
                        }
                    }
                },
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            padding: 15,
                            usePointStyle: true
                        }
                    }
                }
            });
            
            // Update cohort performance cards
            updateCohortCards(radarData.cohortStats);
        }

       

function generateRadarData(performanceResults, engagementData) {
    const cohorts = performanceResults ? performanceResults.cohorts : sampleData.cohorts;
    const mathGains = performanceResults ? performanceResults.mathGains : sampleData.mathGains;
    const csGains = performanceResults ? performanceResults.csGains : sampleData.csGains;
    
    // Use RGBA colors for proper transparency
    const colors = [
        { border: '#3b82f6', background: 'rgba(59, 130, 246, 0.15)' },
        { border: '#10b981', background: 'rgba(16, 185, 129, 0.15)' },
        { border: '#f59e0b', background: 'rgba(245, 158, 11, 0.15)' },
        { border: '#ec4899', background: 'rgba(236, 72, 153, 0.15)' }
    ];
    
    const datasets = [];
    const cohortStats = {};
    
    cohorts.forEach((cohort, index) => {
        // Calculate engagement scores for this cohort
        let stemEngagement = 75; // default
        let sportsEngagement = 80; // default
        let attendanceScore = 80; // default
        
        if (engagementData && engagementData[cohort]) {
            const cohortData = engagementData[cohort];
            stemEngagement = (cohortData.reduce((sum, d) => sum + d.stemScore, 0) / cohortData.length) * 25;
            sportsEngagement = (cohortData.reduce((sum, d) => sum + d.sportsScore, 0) / cohortData.length) * 25;
            attendanceScore = (cohortData.reduce((sum, d) => sum + d.overallScore, 0) / cohortData.length) * 25;
        }
        
        const dataPoint = [
            mathGains[index] || 0,
            csGains[index] || 0,
            attendanceScore,
            95, // satisfaction (default)
            stemEngagement,
            sportsEngagement
        ];
        
        cohortStats[cohort] = {
            math: mathGains[index] || 0,
            cs: csGains[index] || 0,
            stemInterest: Math.round(stemEngagement),
            sportsInterest: Math.round(sportsEngagement)
        };
        
        const colorSet = colors[index % colors.length];
        
        datasets.push({
            label: cohort,
            data: dataPoint,
            borderColor: colorSet.border,
            backgroundColor: colorSet.background,  // Now properly transparent
            borderWidth: 2,
            pointBackgroundColor: colorSet.border,
            pointBorderColor: '#fff',
            pointBorderWidth: 2,
            pointRadius: 4
        });
    });
    
    return {
        chartData: {
            labels: ['Math Gains', 'CS Gains', 'Attendance', 'Satisfaction', 'STEM Interest', 'Sports Interest'],
            datasets: datasets
        },
        cohortStats: cohortStats
    };
}

        function updateCohortCards(cohortStats) {
            const container = document.querySelector('.analytics-card:last-child .grid');
            if (!container) return;
            
            let html = '';
            Object.entries(cohortStats).forEach(([cohort, stats], index) => {
                const colors = ['#eff6ff', '#f0fdf4', '#fefce8', '#fdf2f8'];
                const textColors = ['#1e40af', '#047857', '#a16207', '#be185d'];
                
                html += `
                    <div style="background: ${colors[index % colors.length]}; padding: 15px; border-radius: 8px; text-align: center;">
                        <h4 style="color: ${textColors[index % textColors.length]}; margin-bottom: 8px;">${cohort}</h4>
                        <div style="font-size: 0.85rem; color: ${textColors[index % textColors.length].replace('40af', '30a3').replace('7857', '5f46').replace('6207', '400e').replace('85d', '74d')};">
                            <div>Math: +${stats.math.toFixed(1)}%</div>
                            <div>CS: +${stats.cs.toFixed(1)}%</div>
                            <div>STEM Interest: ${stats.stemInterest}%</div>
                            <div>Sports Interest: ${stats.sportsInterest}%</div>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        // Initialize when page loads
        window.addEventListener('load', () => {
            initializeDashboard();
        });
    </script>
    <!-- Continue CSS for remaining sections -->
        <style>
        /* Key Findings */
        .findings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .finding-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.3s ease;
            border-top: 4px solid #3498db;
        }

        .finding-card:nth-child(2) { border-top-color: #e74c3c; }
        .finding-card:nth-child(3) { border-top-color: #2ecc71; }
        .finding-card:nth-child(4) { border-top-color: #f39c12; }

        .finding-card:hover {
            transform: translateY(-5px);
        }

        .finding-icon {
            font-size: 3rem;
            margin-bottom: 20px;
        }

        .finding-title {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: #2c3e50;
        }

        /* Photo Gallery */
        .photo-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .photo-item {
            position: relative;
            border-radius: 10px;
            overflow: hidden;
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .photo-item:hover {
            transform: scale(1.05);
        }

        /* Footer */
        .footer {
            background: #2c3e50;
            color: white;
            padding: 40px;
            text-align: center;
        }

        .footer-content {
            max-width: 800px;
            margin: 0 auto;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .speakers-grid {
                grid-template-columns: 1fr;
                gap: 30px;
            }
        }

        @media (max-width: 768px) {
            .header {
                padding: 40px 20px;
            }

            .header h1 {
                font-size: 2rem;
            }

            .section {
                padding: 40px 20px;
            }

            .story-grid {
                grid-template-columns: 1fr;
                gap: 30px;
            }

            .nav-list {
                flex-direction: column;
            }

            .nav-link {
                text-align: center;
            }

            .speakers-title {
                font-size: 2.2rem;
            }
            
            .speakers-grid {
                grid-template-columns: 1fr;
                gap: 25px;
            }
            
            .speaker-content {
                padding: 25px;
            }
            
            .speaker-image-container {
                height: 200px;
            }

            .chart-container {
                height: 300px;
            }
        }

        @media (max-width: 480px) {
            .speaker-content {
                padding: 20px;
            }

            .analytics-card {
                padding: 20px;
            }
        }

        /* Smooth Scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section {
            animation: fadeInUp 0.6s ease-out;
        }
        </style>

        <!-- Key Findings Section -->
        <section id="findings" class="section">
            <h2 class="section-title">Key Program Findings</h2>
            <div class="findings-grid">
                <div class="finding-card">
                    <div class="finding-icon">📈</div>
                    <h3 class="finding-title">Consistent Growth</h3>
                    <p>All cohorts showed measurable improvement in both math and computer science assessments, with average gains exceeding 15%.</p>
                </div>
                <div class="finding-card">
                    <div class="finding-icon">🎯</div>
                    <h3 class="finding-title">Engagement Success</h3>
                    <p>High attendance rates and positive student feedback indicate strong program engagement across all participating schools.</p>
                </div>
                <div class="finding-card">
                    <div class="finding-icon">🤝</div>
                    <h3 class="finding-title">Cross-Cohort Learning</h3>
                    <p>Students participating in multiple cohorts showed enhanced learning outcomes and peer mentorship capabilities.</p>
                </div>
                <div class="finding-card">
                    <div class="finding-icon">🔬</div>
                    <h3 class="finding-title">Skills Transfer</h3>
                    <p>Improvements in computational thinking translated to enhanced problem-solving abilities across STEM disciplines.</p>
                </div>
            </div>
        </section>
        
        <!-- Photo Gallery Section -->
        <section id="gallery" class="section">
            <h2 class="section-title">Program in Action</h2>
            <div class="photo-gallery">
        
                <div class="photo-item">
                    <img src="photos/ClassEngagement.JPG" alt="Classroom Engagement" style="width: 100%; height: auto;">
                </div>
        
                <div class="photo-item">
                    <img src="photos/oncourt2.JPG" alt="Student Practicing Jumpshot" style="width: 100%; height: auto;">
                </div>
        
                <div class="photo-item">
                    <img src="photos/prizes.JPG" alt="Students Receiving Prizes" style="width: 100%; height: auto;">
                </div>
        
                <div class="photo-item">
                    <img src="photos/racingrobot.JPG" alt="Students Racing Robots" style="width: 100%; height: auto;">
                </div>
        
                <div class="photo-item">
                    <img src="photos/inclass.JPG" alt="Students Learning in Class" style="width: 100%; height: auto;">
                </div>
        
                <div class="photo-item">
                    <img src="photos/oncourt.JPG" alt="Basketball Court Activities" style="width: 100%; height: auto;">
                </div>
        
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <h3 style="margin-bottom: 20px;">San Leandro Unified School District</h3>
                <p>STEM Program • Academic Year 2024-2025</p>
                <p style="margin-top: 20px; opacity: 0.8;">
                    For more information about our STEM initiatives, contact the district office.
                </p>
                <p style="margin-top: 30px; font-size: 0.9rem; opacity: 0.6;">
                    Report generated with interactive data dashboard • Data as of June 2025
                </p>
            </div>
        </footer>
    </div>

    <script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Add scroll effect to navigation
        window.addEventListener('scroll', () => {
            const nav = document.querySelector('.nav');
            if (window.scrollY > 100) {
                nav.style.backgroundColor = 'rgba(52, 73, 94, 0.95)';
                nav.style.backdropFilter = 'blur(10px)';
            } else {
                nav.style.backgroundColor = '#34495e';
                nav.style.backdropFilter = 'none';
            }
        });

        // Photo gallery click handlers
        document.querySelectorAll('.photo-item').forEach(item => {
            item.addEventListener('click', () => {
                alert('Photo gallery would open full-size image viewer here');
            });
        });
    </script>
</body>
</html>
